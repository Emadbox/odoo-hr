<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data>
      
              <!--Employee form view -->
        <record id="view_employee_onboard" model="ir.ui.view">
            <field name="name">hr.employee.form.onboard</field>
            <field name="model">hr.employee</field>
            <field name="sequence">0</field>
            <field name="arch" type="xml">
                <form string="Employee">
                                <header>
                <field name="onboard_stage_id" widget="statusbar" clickable="True"/>
            </header>
                    <sheet>
                        <field name="image_medium" widget='image' class="oe_left oe_avatar"/>
                        <div class="oe_title">
                            <label for="name" class="oe_edit_only"/>
                            <h1>
                                <field name="name"/>
                            </h1>
                            <label for="category_ids" class="oe_edit_only" groups="base.group_hr_user"/>
                            <field name="category_ids" widget="many2many_tags" placeholder="e.g. Part Time" groups="base.group_hr_user"/>
                            <label for="work_email" class="oe_edit_only"/>
                            <field name="work_email" widget="email"/>
                            <label for="work_phone" class="oe_edit_only"/>
                            <field name="work_phone"/>
                        </div>
                        <div class="oe_right oe_button_box" name="button_box">
                            <!-- Put here related buttons -->
                        </div>
                        <notebook>
                            <page string="Public Information">
                                <group>
                                    <group string="Contact Information">
                                        <field name="address_id" on_change="onchange_address_id(address_id)"
                                            context="{'show_address': 1, 'default_customer': False}"
                                            options='{"always_reload": True, "highlight_first_line": True}'/>
                                        <field name="mobile_phone"/>
                                        <field name="work_location"/>
                                    </group>
                                    <group string="Position">
                                        <field name="department_id" on_change="onchange_department_id(department_id)"/>
                                        <field name="job_id"/>
                                        <field name="parent_id"/>
                                        <field name="coach_id"/>
                                    </group>
                                    <group>
                                        <field name="company_id" groups="base.group_multi_company" on_change="onchange_company(company_id)"/>
                                        <field name="user_id" on_change="onchange_user(user_id)" string="Related User"
                                            context="{'default_groups_ref': ['base.group_user']}"/>
                                    </group>
                                </group>
                                <field name="notes" placeholder="Other Information ..." colspan="4"/>
                            </page>
                            <page string="Personal Information" groups="base.group_hr_user">
                                <group>
                                    <group string="Citizenship &amp; Other Info">
                                        <field name="country_id" options='{"no_open": True, "no_create": True}'/>
                                        <field name="identification_id" groups="base.group_hr_user"/>
                                        <field name="passport_id" groups="base.group_hr_user"/>
                                        <field name="bank_account_id"/>
                                        <field name="otherid" groups="base.group_hr_user"/>
                                    </group>
                                    <group string="Contact Information">
                                        <field name="address_home_id"
                                            context="{'show_address': 1, 'default_customer': False}"
                                            options='{"always_reload": True, "highlight_first_line": True}'/>
                                    </group>
                                    <group string="Status">
                                        <field name="gender"/>
                                        <field name="marital"/>
                                    </group>
                                    <group string="Birth">
                                        <field name="birthday"/>
                                    </group>
                                </group>
                            </page>
                            <page string="HR Settings" groups="base.group_hr_user">
                                <group>
                                    <group string="Active" name="active_group">
                                        <field name="active"/>
                                    </group>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

 <!-- Hr Applicant Kanban View -->
    <record model="ir.ui.view" id="hr_onboard_kanban">
        <field name="name">Hr Onboard kanban</field>
        <field name="model">hr.employee</field>
        <field name="arch" type="xml">
            <kanban default_group_by="onboard_stage_id">
                <field name="onboard_stage_id"/>
                <field name="color"/>
                <field name="priority"/>
                <field name="survey"/>
                <field name="user_id"/>
                <field name="user_email"/>
                <field name="partner_name"/>
<!--
                <field name="type_id"/>
                <field name="job_id"/>
                <field name="title_action"/>
                <field name="department_id"/>
                <field name="categ_ids"/>
                <field name="message_summary"/>
                <field name="attachment_number"/>
-->
                <templates>
                    <t t-name="kanban-tooltip">
                        <ul class="oe_kanban_tooltip">
                            <li t-if="record.type_id.raw_value"><b>Degree:</b> <field name="type_id"/></li>
                            <li t-if="record.partner_id.raw_value"><b>Contact:</b> <field name="partner_id"/></li>
                            <li t-if="record.department_id.raw_value"><b>Departement:</b> <field name="department_id"/></li>
                        </ul>
                    </t>
                    <t t-name="kanban-box">
                        <div t-attf-class="oe_kanban_color_#{kanban_getcolor(record.color.raw_value)} oe_kanban_card oe_kanban_global_click oe_semantic_html_override">
                            <div class="oe_dropdown_toggle oe_dropdown_kanban">
                                <span class="oe_e">i</span>
                                <ul class="oe_dropdown_menu">
                                    <t t-if="widget.view.is_action_enabled('delete')"><li><a type="delete">Delete</a></li></t>
                                    <li><a name="action_makeMeeting" type="object">Schedule Interview</a></li>
                                    <li><ul class="oe_kanban_colorpicker" data-field="color"/></li>
                                </ul>

                            </div>
                            <div class="oe_kanban_content" tooltip="kanban-tooltip">
                                <div>
                                    <t t-if="record.partner_name.raw_value"><b><field name="partner_name"/></b><br/></t>
                                    <i><field name="name"/></i><br/>
                                    <field name="job_id"/><br/>
                                    <t t-if="record.partner_mobile.raw_value">Mobile: <field name="partner_mobile"/><br/></t>
                                </div>
                                <div style="padding-left: 0.5em">
                                    <t t-if="record.date_action.raw_value and record.date_action.raw_value lt (new Date())" t-set="red">oe_kanban_text_red</t>
                                    <span t-attf-class="#{red || ''}"><field name="date_action"/></span>
                                        <t t-if="record.date_action.raw_value"> : </t>
                                        <field name="title_action"/>
                                </div>
                                <div style="width:240px"><field name="categ_ids"/></div>
                                <div class="oe_kanban_bottom_right">
                                    <img t-att-src="kanban_image('res.users', 'image_small', record.user_id.raw_value)" t-att-title="record.user_id.value" width="24" height="24" class="oe_kanban_avatar pull-right"/>
                                    <div class="pull-left" groups="base.group_user">
                                        <field name="priority" widget="priority"/>
                                    </div>
                                </div>
                                <div class="oe_kanban_footer_left" style="margin-top:5px;">
                                    <t t-raw="record.message_summary.raw_value"/>
                                    <a t-if="record.attachment_number" name="action_get_attachment_tree_view" type="object" style="margin-right: 10px"> <field name="attachment_number"/> Documents</a>
                                </div>

                            </div>
                            <div class="oe_clear"></div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_hr_job_applications">
        <field name="name">Applications</field>
        <field name="res_model">hr.applicant</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="context">{'search_default_job_id': [active_id], 'default_job_id': active_id}</field>
        <field name="help" type="html">
              <p>
                Odoo helps you track applicants in the recruitment
                process and follow up all operations: meetings, interviews, etc.
              </p><p>
                Applicants and their attached CV are created automatically when an email is sent.
                If you install the document management modules, all resumes are indexed automatically,
                so that you can easily search through their content.
              </p>
         </field>
    </record>





        <record id="open_view_onboard" model="ir.actions.act_window">
            <field name="name">Employees Onboard</field>
            <field name="res_model">hr.employee</field>
            <field name="view_type">tree</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_employee_onboard"/>
<!--
            <field name="domain">[('parent_id','=',False)]</field>
            <field name="search_view_id" ref="view_employee_filter"/>
-->
        </record>





<menuitem
        id="menu_hr_onboard"
        name="Onboard"
        parent="hr_recruitment.menu_hr_recruitment_recruitment"
        action="open_view_onboard" />
<!--
        sequence="1" groups="base.group_no_one"/>
-->
        
        

<!--
    <menuitem parent="mail.mail_my_stuff" id="menu_sign_assets" action="action_sign_assets" sequence="99" />
-->
    
    
    
  </data>
</openerp>